@import "tailwindcss";

@theme {
  --breakpoint-xs: 23.4375rem; /* 375px */
  --breakpoint-sm: 36rem; /* 576px */
  --breakpoint-md: 48rem; /* 768px */
  --breakpoint-lg: 64rem; /* 1024px */
  --breakpoint-xl: 90rem; /* 1440px */
  --breakpoint-2xl: 96rem; /* 1536px */
  --breakpoint-3xl: 108rem; /* 1728px */
}

@custom-variant dark (&:is(.dark *));

body {
	@apply m-0;
	font-family: var(--font-body);
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

code {
	font-family: var(--font-mono);
}

@layer base {
	:root {
		/* Font Variables */
		--font-sans: 'Montserrat', sans-serif;
		--font-alternates: 'Montserrat Alternates', sans-serif;
		/* Color Variables from Figma Design */
		--color-green: #28694D;
		--color-white: #FBFBF9;
		--color-white-alt: #FFFFFF;
		--color-white-light: #F8F8F3;
		--color-black: #404040;
  
		/* Legacy color variables for compatibility */
		--color-primary: #28694D;
		--color-primary-dark: #1f5239;
		--color-primary-light: #3d8a5f;
  
		--color-background: #FBFBF9;
		--color-background-alt: #FFFFFF;
		--color-background-dark: #111827;
  
		--color-foreground: #111827;
		--color-foreground-muted: #6b7280;
		--color-foreground-light: #9ca3af;
  
		--color-border: #e5e7eb;
		--color-border-dark: #374151;
  
		/* Spacing Variables */
		--spacing-xs: 0.25rem;
		--spacing-sm: 0.5rem;
		--spacing-md: 1rem;
		--spacing-lg: 1.5rem;
		--spacing-xl: 2rem;
		--spacing-2xl: 3rem;
		--spacing-3xl: 4rem;
  
		/* Border Radius */
		--radius-sm: 0.25rem;
		--radius-md: 0.5rem;
		--radius-lg: 0.75rem;
		--radius-xl: 1rem;
		--radius-full: 9999px;
  
		/* Shadows */
		--shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
		--shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
		--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
		--shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  
		/* Transitions */
		--transition-fast: 150ms ease-in-out;
		--transition-base: 250ms ease-in-out;
		--transition-slow: 350ms ease-in-out;
	  }

	* {
		margin: 0;
		padding: 0;
		box-sizing: border-box;
		text-rendering: optimizeLegibility;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		@apply border-border outline-ring/50;
	}

	/* Ensure body doesn't overflow horizontally but allows vertical scrolling */
	body {
		overflow-x: hidden;
		overflow-y: auto;
		max-width: 100vw;
		min-height: 100%;
	}

	html {
		min-height: 100%;
		width: 100%;
		scroll-behavior: smooth;
		scroll-padding-top: 0px;
		/* Prevent horizontal scrolling on all devices */
		overflow-x: hidden;
		/* Ensure vertical scrolling works */
		overflow-y: auto;
	}

	@media (min-width: 640px) {
		html {
			scroll-padding-top: 0px;
		}
	}

	@media (min-width: 768px) {
		html {
			scroll-padding-top: 0px;
		}
	}

	@media (min-width: 1024px) {
		html {
			scroll-padding-top: 7px;
		}
	}

	@media (min-width: 1536px) {
		html {
			scroll-padding-top: 7px;
		}
	}

	body {
		min-height: 100%;
		width: 100%;
		font-family: var(--font-body, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif);
		line-height: 1.6;
		@apply bg-background text-foreground;
		/* Ensure proper rendering on macOS high-DPI displays */
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		text-rendering: optimizeLegibility;
	}
}

@theme inline {
	--color-background: var(--background);
	--color-foreground: var(--foreground);
	--color-card: var(--card);
	--color-card-foreground: var(--card-foreground);
	--color-popover: var(--popover);
	--color-popover-foreground: var(--popover-foreground);
	--color-primary: var(--primary);
	--color-primary-foreground: var(--primary-foreground);
	--color-secondary: var(--secondary);
	--color-secondary-foreground: var(--secondary-foreground);
	--color-muted: var(--muted);
	--color-muted-foreground: var(--muted-foreground);
	--color-accent: var(--accent);
	--color-accent-foreground: var(--accent-foreground);
	--color-accent1: var(--accent1);
	--color-accent2: var(--accent2);
	--color-destructive: var(--destructive);
	--color-destructive-foreground: var(--destructive-foreground);
	--color-border: var(--border);
	--color-input: var(--input);
	--color-ring: var(--ring);
	--radius-sm: calc(var(--radius) - 4px);
	--radius-md: calc(var(--radius) - 2px);
	--radius-lg: var(--radius);
	--radius-xl: calc(var(--radius) + 4px);
		--color-sidebar: var(--sidebar);
		--color-sidebar-foreground: var(--sidebar-foreground);
		--color-sidebar-border: var(--sidebar-border);

		/* Legacy color variables for compatibility */
		--color-green: #28694D;
		--color-white: #FBFBF9;
		--color-white-alt: #FFFFFF;
		--color-white-light: #F8F8F3;
		--color-black: #404040;
		--color-primary-dark: #1f5239;
		--color-primary-light: #3d8a5f;
		--color-background-alt: #FFFFFF;
		--color-background-dark: #111827;
		--color-foreground-muted: #6b7280;
		--color-foreground-light: #9ca3af;
		--color-border-dark: #374151;
	}

@layer utilities {
	.font-heading {
		font-family: var(--font-heading);
	}

	.font-body {
		font-family: var(--font-body);
	}

	.font-accent {
		font-family: var(--font-accent);
	}

	.font-mono {
		font-family: var(--font-mono);
	}

	.font-alternates {
		font-family: var(--font-alternates);
	}

	.font-sans {
		font-family: var(--font-sans);
	}

	.font-montserrat {
		font-family: var(--font-sans);
	}

	/* Hide scrollbar but keep scrolling functionality */
	.scrollbar-hide {
		-ms-overflow-style: none; /* IE and Edge */
		scrollbar-width: none; /* Firefox */
	}

	.scrollbar-hide::-webkit-scrollbar {
		display: none; /* Chrome, Safari and Opera */
	}

	/* Infinite scroll animation for carousels */
	@keyframes scroll-left {
		0% {
			transform: translate3d(0, 0, 0);
			-webkit-transform: translate3d(0, 0, 0);
		}
		100% {
			transform: translate3d(-50%, 0, 0);
			-webkit-transform: translate3d(-50%, 0, 0);
		}
	}

	.animate-scroll-left {
		animation: scroll-left 60s linear infinite;
		-webkit-animation: scroll-left 60s linear infinite;
		width: fit-content;
		will-change: transform;
		-webkit-backface-visibility: hidden;
		backface-visibility: hidden;
	}

	/* Animation Utilities */
	@keyframes fadeIn {
		from {
			opacity: 0;
		}
		to {
			opacity: 1;
		}
	}

	@keyframes slideUp {
		from {
			opacity: 0;
			transform: translateY(20px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}

	@keyframes slideDown {
		from {
			opacity: 0;
			transform: translateY(-20px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}

	.animate-fade-in {
		animation: fadeIn 250ms ease-in-out;
	}

	@keyframes fadeInHero {
		from {
			opacity: 0;
		}
		to {
			opacity: 1;
		}
	}

	@keyframes zoomOut {
		from {
			transform: scale(1.2);
			opacity: 0;
		}
		to {
			transform: scale(1);
			opacity: 1;
		}
	}

	@keyframes fadeInUp {
		from {
			opacity: 0;
			transform: translateY(30px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}

	.animate-fade-in-hero {
		animation: fadeInHero 1.5s ease-in-out;
	}

	.animate-zoom-out {
		animation: zoomOut 3.5s ease-out;
	}

	.animate-fade-in-up {
		animation: fadeInUp 1.2s ease-out forwards;
		opacity: 1;
	}

	.animate-fade-in-up-delay-1 {
		animation: fadeInUp 1.2s ease-out 0.8s forwards;
		opacity: 1;
	}

	.animate-fade-in-up-delay-2 {
		animation: fadeInUp 1.2s ease-out 1.8s forwards;
		opacity: 0;
	}

	.animate-fade-in-up-delay-3 {
		animation: fadeInUp 1.2s ease-out 2.8s forwards;
		opacity: 0;
	}

	@keyframes shrinkFromLarge {
		from {
			transform: scale(1.3);
		}
		to {
			transform: scale(1);
		}
	}

	.animate-shrink-from-large {
		animation: shrinkFromLarge 1.5s ease-out 2s forwards;
		transform: scale(1.3);
	}

	.animate-slide-up {
		animation: slideUp 250ms ease-in-out;
	}

	.animate-slide-down {
		animation: slideDown 250ms ease-in-out;
	}

	/* Continuous Hero Animation - Single Timeline */
	@keyframes heroBgReveal {
		0% {
			opacity: 0;
			transform: scale(1.1);
		}
		40% {
			opacity: 1;
			transform: scale(1);
		}
		100% {
			opacity: 1;
			transform: scale(1);
		}
	}

	@keyframes heroOverlayFade {
		0% {
			opacity: 1;
		}
		40% {
			opacity: 0;
		}
		100% {
			opacity: 0;
		}
	}

	@keyframes heroTextAnimation {
		0% {
			transform: scale(1.3);
			opacity: 1;
		}
		100% {
			transform: scale(1);
			opacity: 1;
		}
	}

	@keyframes heroTextFade1 {
		0% {
			opacity: 0;
		}
		100% {
			opacity: 1;
		}
	}

	@keyframes heroTextFade2 {
		0% {
			opacity: 0;
		}
		100% {
			opacity: 1;
		}
	}

	.hero-text-fade-1 {
		animation: heroTextFade1 1s ease-out 0.3s forwards;
		opacity: 0;
	}

	.hero-text-fade-2 {
		animation: heroTextFade2 1s ease-out 1.5s forwards;
		opacity: 0;
	}

	@keyframes heroContentText {
		0% {
			opacity: 0;
			transform: translateY(30px);
		}
		70% {
			opacity: 0;
			transform: translateY(30px);
		}
		100% {
			opacity: 1;
			transform: translateY(0);
		}
	}

	@keyframes heroContentButton {
		0% {
			opacity: 0;
			transform: translateY(30px);
		}
		78% {
			opacity: 0;
			transform: translateY(30px);
		}
		100% {
			opacity: 1;
			transform: translateY(0);
		}
	}

	@keyframes heroContentScroll {
		0% {
			opacity: 0;
			transform: translateY(30px);
		}
		80% {
			opacity: 0;
			transform: translateY(30px);
		}
		90% {
			opacity: 0.5;
			transform: translateY(15px);
		}
		100% {
			opacity: 1;
			transform: translateY(0);
		}
	}

	@keyframes headerSlideIn {
		0% {
			opacity: 0;
			transform: translateY(-100%);
			box-shadow: none;
			pointer-events: none;
		}
		100% {
			opacity: 1;
			transform: translateY(0);
			box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
			pointer-events: auto;
		}
	}

	.hero-bg-reveal {
		animation: heroBgReveal 5.5s ease-out forwards;
		opacity: 0;
	}

	.hero-overlay-fade {
		animation: heroOverlayFade 5.5s ease-out forwards;
		opacity: 1;
	}

	.hero-text-animation {
		animation: heroTextAnimation 5.5s ease-out forwards;
		transform: scale(1.3);
	}

	.hero-content-text {
		animation: heroContentText 5.5s ease-out forwards;
		opacity: 0;
	}

	.hero-content-button {
		animation: heroContentButton 5.5s ease-out forwards;
		opacity: 0;
	}

	.hero-content-scroll {
		animation: heroContentScroll 5.5s ease-out forwards;
		opacity: 0;
	}

	header.header-fade-in {
		opacity: 0;
		transform: translateY(-100%);
		box-shadow: none;
		pointer-events: none;
		animation: headerSlideIn 0.7s ease-out 5.5s forwards;
		animation-fill-mode: both;
	}
	
	/* Header backdrop-filter - always present, not affected by child animations */
	header.backdrop-blur-header {
		-webkit-backdrop-filter: blur(2px) !important;
		backdrop-filter: blur(2px) !important;
		will-change: backdrop-filter;
	}

	/* Backdrop blur support with webkit prefix */
	.backdrop-blur-header {
		-webkit-backdrop-filter: blur(4px) !important;
		backdrop-filter: blur(4px) !important;
		/* Force hardware acceleration and create own layer */
		will-change: backdrop-filter;
	}

	/* Inner pages CTA button - light style (donate, report, terms, privacy) */
	header[data-inner-page] button[class*="28694D"] {
		background: #FBFBF9 !important;
		border: 1px solid rgba(17, 17, 17, 0.1) !important;
		width: 256px !important;
		height: 48px !important;
		padding: 8px 64px !important;
		border-radius: 32px !important;
		gap: 8px;
	}
	header[data-inner-page] button[class*="28694D"] span,
	header[data-inner-page] button[class*="28694D"] .text-white,
	header[data-inner-page] button[class*="28694D"] * {
		color: #28694D !important;
		font-family: 'Montserrat', sans-serif !important;
		font-weight: 400 !important;
		font-size: 20px !important;
		line-height: 130% !important;
		letter-spacing: 0.015em !important;
	}
	
	/* Ensure backdrop-filter works during header animation - but don't override visibility */
	.header-fade-in.backdrop-blur-header {
		-webkit-backdrop-filter: blur(4px) !important;
		backdrop-filter: blur(4px) !important;
	}

	/* Focus Styles */
	:focus-visible {
		outline: 2px solid var(--color-primary);
		outline-offset: 2px;
	}

	/* Selection Styles */
	::selection {
		background-color: var(--color-primary-light, #3d8a5f);
		color: var(--color-background, #FBFBF9);
	}

	/* Prevent layout shift on font-weight change */
	.hover-bold-no-shift {
		display: inline-block;
		position: relative;
	}

	.hover-bold-no-shift::before {
		content: attr(data-text);
		font-weight: 700;
		height: 0;
		visibility: hidden;
		overflow: hidden;
		user-select: none;
		display: block;
		white-space: nowrap;
		font-family: inherit;
		font-size: inherit;
		letter-spacing: inherit;
		line-height: inherit;
	}

	.hover-bold-no-shift > span {
		display: inline-block;
		transition: font-weight 0.2s ease;
		position: relative;
	}

	.hover-bold-no-shift:hover > span {
		font-weight: 700;
	}

	/* Icon stroke width hover effect */
	.icon-stroke-hover {
		stroke-width: 1.5;
		transition: stroke-width 0.2s ease;
	}

	a:hover .icon-stroke-hover {
		stroke-width: 2.5;
	}
}
